{"version":3,"sources":["TaskView.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TaskView.js","sourcesContent":["\n// load all javascript once the document is ready.\n$(document).ready(function(){\n    // populate the type drop-down box on the Task View.\n    TaskType();\n    isHourValid();\n    isMinuteValid();\n    getStartTime();\n    getEndTime();\n    calcHoursWorked();\n});\n\n\n// populate the type drop-down box on the Task View.\nfunction TaskType() {\n    //$('#taskType').empty();\n    //$('#taskType').append(\"<caption>Loading...</caption>\");\n    $.ajax({\n        type: \"GET\",\n        url: \"/get_all_tasks\",\n        contentType: \"application/json; charset=utf8\",\n        dataType: \"json\",\n        success: function(data) {\n            //$('#taskType').empty();\n            //$('#taskType').append(\"<option value='0'>--Select Type--</option>\");\n            $.each(data,function(i,item) {\n                $('#taskType').append(\"<option value=\" + data[i].id + \">\" + data[i].type + \"</option>\");\n            });\n        },\n        complete: function() {\n        }\n    });\n}\n\n// determine hour is valid\nfunction isHourValid(hours) {\n    var t1 = hours.split(':');\n\n    if (Math.floor(t1[0]) < 0 || Math.floor(t1[1]) > 24) {\n        return false;\n    }\n\n    return true;\n}\n\n// determine hour is valid\nfunction isMinuteValid(minutes) {\n    var t1 = minutes.split(':');\n\n    if (Math.floor(t1[0]) < 0 || Math.floor(t1[1]) > 60) {\n        return false;\n    }\n\n    return true;\n}\n\n// populate start and end time boxes.\n// for more details, see https://github.com/jonthornton/jquery-timepicker#timepicker-plugin-for-jquery\nfunction getStartTime() {\n    $('#startt-search').timepicker({'show2400' : true,\n                             'timeFormat': 'H:i',\n                             'scrollDefault': 'now',\n                             'useSelect' : false });\n}\nfunction getEndTime() {\n    $('#endt').timepicker({'show2400' : true,\n                           'timeFormat': 'H:i',\n                           'scrollDefault': 'now',\n                           'useSelect' : false });\n}\n\n// calculate hours worked and populate the hours worked cell.\nfunction calcHoursWorked() {\n    $(\"#endt\").focusout(function(){\n\n        var t1Str = $('#startt-search').text($(this)).val();\n        var t1 = t1Str.split(':');\n\n        var t2Str = $('#endt').text($(this)).val();\n        var t2 = t2Str.split(':');\n\n        var t1Min = Math.floor(t1[0]*60) + Math.floor(t1[1]);\n        var t2Min = Math.floor(t2[0]*60) + Math.floor(t2[1]);\n\n        var diff = (t2Min - t1Min)/60;\n\n        $('#hoursWorked').val(diff);\n    });\n}\n\n"],"sourceRoot":"/source/"}